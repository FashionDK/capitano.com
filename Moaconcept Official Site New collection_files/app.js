!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=30)}([function(e,t,n){"use strict";n.d(t,"j",(function(){return i})),n.d(t,"i",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"g",(function(){return m}));var r=n(1),o=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function i(e){var t=new URLSearchParams(window.location.search).get(e);return t||null}function a(){for(var e=new URLSearchParams(window.location.search),t=["BECAUSEKLAVIYOSEGMENT","BECAUSEKLAVIYOSEGMENT_NOT"],n=0;n<t.length;n++){if(e.has(t[n]))return e.get(t[n])}return null}function c(){var e=new URLSearchParams(window.location.search);return!(!e.has("BECAUSE_NO_RUN")||"true"!==e.get("BECAUSE_NO_RUN"))}function u(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"true"===i(r.e.Debug)&&console.log.apply(console,o([e],t,!1))}function s(){for(var e=new URLSearchParams(window.location.search),t=["BECAUSEKLAVIYOCAMPAIGN","BECAUSEKLAVIYOCAMPAIGN_NOT","BECAUSEKLAVIYOFLOW","BECAUSEKLAVIYOFLOW_NOT"],n=0;n<t.length;n++)if(e.has(t[n]))return{paramName:t[n],campaignName:e.get(t[n]),campaignId:""};return{paramName:"",campaignName:"",campaignId:""}}function l(e){var t=e.split("/").pop();return t&&(t=(t=t.replace(/_[0-9]+x[0-9]+(\.[a-zA-Z]+)?\?v=\d+$/,"")).replace(/(\.[a-zA-Z]+)?\?v=\d+$/,"")),t=t.replace(/\s+/g,"")}function d(e,t,n,o){for(var i=e.attributes,a=0;a<i.length;a++){var c=i[a],u=c.value?c.value:"";if("src"===c.name||"data-src"===c.name){if(!(d=u.match(r.c)))continue;if(d[1]===t)return o&&o.has(u)&&(null==o||o.set(u,e)),n.exact+=1,!0;if(d[1].includes(t))return o&&o.has(u)&&(null==o||o.set(u,e)),n.loose+=1,!0}else if("srcset"===c.name||"data-srcset"===c.name)for(var s=u.split(","),l=0;l<s.length;l++){var d;if(d=s[l].match(r.c)){if(d[1]===t)return o&&o.has(u)&&(null==o||o.set(u,e)),n.exact+=1,!0;if(d[1].includes(t))return o&&o.has(u)&&(null==o||o.set(u,e)),n.loose+=1,!0}}else if("alt"===c.name)continue}return!1}function f(e,t){for(var n=0,r=e;r&&n<5;){if("A"===r.tagName){if(i=r.getAttribute("href"))if((a=i.split("/").pop()).includes("?")&&(a=a.split("?")[0]),a===t)return!0}else if("DIV"===r.tagName&&r.getAttribute("data-url")){var o=r.getAttribute("data-url");if(o)if((a=o.split("/").pop())===t)return!0}else{var i,a,c=r.querySelector('a[href*="/'.concat(t,'"]')),u=r.querySelector('a[href*="products/"]');if(u){if(i=u.getAttribute("href"))if((a=i.split("/").pop()).includes("?")&&(a=a.split("?")[0]),a===t)return!0}else if(c&&u&&c===u)return!0}r=r.parentElement,n+=1}return!1}function p(e){var t=0,n=document.querySelector('a[href*="/'.concat(e,'"]'));for(n||(n=document.querySelector('div[data-url*="/'.concat(e,'"]')));n&&t<5;){if(!n)return null;if("IMG"===n.tagName)return n;var r=n.querySelector("img");if(r)return r;n=n.parentElement,t+=1}return null}var h=function(e){return"product_recommendation"===e.attributes.content_type};function m(e){var t=0,n=new Set,r=Array.from(document.querySelectorAll('a[href*="/collection"][href*="/'.concat(e,'"]'))),i=Array.from(document.querySelectorAll('div[data-url*="/collection"][data-url*="/'.concat(e,'"]'))),a=o(o([],r,!0),i,!0);if(0===a.length)return u("No element found with product handle: ".concat(e)),[];for(var c=0;c<a.length;c++){var s=a[c];for(t=0;s&&t<5;){if("IMG"===s.tagName){n.has(s)||n.add(s);break}var l=s.querySelector("img");if(l){n.has(l)||n.add(l);break}s=s.parentElement,t+=1}}return Array.from(n)}},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return f}));var r=n(0);const o={GoBackend:"BECAUSE_URL",ApiBackend:"BECAUSE_API_URL",Preview:"BECAUSE_PREVIEW",RuleChecker:"BECAUSE_RULE_VALIDATION",KlaviyoSegment:"BECAUSEKLAVIYOSEGMENT",KlaviyoCampaign:"BECAUSEKLAVIYOCAMPAIGN",KlaviyoFlow:"BECAUSEKLAVIYOFLOW",AbTesting:"BECAUSEABTESTING",PlaybookId:"PLAYBOOK_ID",SelectorId:"BECAUSE_SELECTOR_ID",Debug:"BECAUSE_DEBUG"},i=Object(r.j)(o.GoBackend),a=i||"https://prod-app.because-intelligence.com",c=Object(r.j)(o.ApiBackend),u=c||(e.env.REACT_APP_BASE_API_URL||"https://app.beta.because-intelligence.com"),s=/\/([^\/]+)\.\w+\?/,l={CampaignIds:"because_campaign_ids"},d=["public-rec-2.myshopify.com"],f=["public-rec-2.myshopify.com","umbra-us.myshopify.com","umbra-ca.myshopify.com"]}).call(this,n(8))},function(e,t,n){e.exports=n(13)},function(e,t,n){"use strict";var r=n(4),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function c(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===o.call(e)}function s(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:s,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return t},extend:function(e,t,n){return s(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(3);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var c=e.indexOf("#");-1!==c&&(e=e.slice(0,c)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(3),o=n(18),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(c=n(9)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u}).call(this,n(8))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,s=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?s=u.concat(s):d=-1,s.length&&p())}function p(){if(!l){var e=c(f);l=!0;for(var t=s.length;t;){for(u=s,s=[];++d<t;)u&&u[d].run();d=-1,t=s.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||l||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(3),o=n(19),i=n(5),a=n(21),c=n(24),u=n(25),s=n(10);e.exports=function(e){return new Promise((function(t,l){var d=e.data,f=e.headers;r.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password||"";f.Authorization="Basic "+btoa(h+":"+m)}var v=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),i(v,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};o(t,l,r),p=null}},p.onabort=function(){p&&(l(s("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(s("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(s(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var y=n(26),b=(e.withCredentials||u(v))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),l(e),p=null)})),void 0===d&&(d=null),p.send(d)}))}},function(e,t,n){"use strict";var r=n(20);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){t=t||{};var n={},o=["url","method","params","data"],i=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(o,(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(i,(function(o){r.isObject(t[o])?n[o]=r.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:r.isObject(e[o])?n[o]=r.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])})),r.forEach(a,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var c=o.concat(i).concat(a),u=Object.keys(t).filter((function(e){return-1===c.indexOf(e)}));return r.forEach(u,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";var r=n(3),o=n(4),i=n(14),a=n(11);function c(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=c(n(7));u.Axios=i,u.create=function(e){return c(a(u.defaults,e))},u.Cancel=n(12),u.CancelToken=n(27),u.isCancel=n(6),u.all=function(e){return Promise.all(e)},u.spread=n(28),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(3),o=n(5),i=n(15),a=n(16),c=n(11);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=c(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=c(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(3);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(3),o=n(17),i=n(6),a=n(7);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(22),o=n(23);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(3),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(3);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(3);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var c=[];c.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),r.isString(o)&&c.push("path="+o),r.isString(i)&&c.push("domain="+i),!0===a&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(12);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},,function(e,t,n){"use strict";n.r(t),n.d(t,"getAndDisplayCampaigns",(function(){return cn})),n.d(t,"getShopifyCart",(function(){return un}));var r,o,i=n(2),a=n.n(i);!function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(r||(r={})),function(e){e.Banner="banner",e.TextElement="text_element",e.TopBar="top_bar",e.Badge="image_overlay",e.ReplaceImage="replace_image",e.ProductRecommendation="product_recommendation"}(o||(o={}));var c,u,s=function(e){this.size=e.size,this.selector=e.selector,this.abTesting=e.ab_testing,this.specificPlacement=e.specific_placement,this.content_type=e.content_type};!function(e){e.PDP="product",e.CART="CART",e.HOME="home",e.COLLECTION="collection",e.SPECIFIC="specific",e.POPUP="popup",e.NONE="NONE"}(c||(c={})),function(e){e.ADD_TO_CART="ADD_TO_CART",e.ADD_TO_CART_PARENT="ADD_TO_CART_PARENT",e.ADD_TO_CART_PARENT_2="ADD_TO_CART_PARENT_2",e.UNDER_ADD_TO_CART="UNDER_ADD_TO_CART",e.UNDER_PRODUCT_IN_CART="UNDER_PRODUCT_IN_CART",e.UNDER_TITLE_IN_CART="UNDER_TITLE_IN_CART",e.TOP_BANNER="TOP_BANNER",e.UNDER_TOP_BANNER="UNDER_TOP_BANNER",e.SPECIFIC="SPECIFIC",e.POPUP="POPUP",e.COLLECTION_PAGE="COLLECTION_PAGE",e.NONE=""}(u||(u={}));var l=function(){function e(e){this.campaignId=e.id,this.playbookId=e.playbook_id,this.pageType=e.page_type,this.placementType=e.placement,this.content=e.content,this.products=e.products,this.attributes=new s(e.attributes),this.stylesheet=e.stylesheet,this.stylesheet_fonts=e.stylesheet_fonts,this.targeting=e.targeting,this.inline_script=e.inline_script,this.inline_style=e.inline_style,this.placement=e.placement,this.param_map=JSON.parse(e.param_map)}return e.fromArray=function(t){return t.map((function(t){return new e(t)}))},e}(),d=function(){function e(e){this.campaign=new l(e.campaign),this.positions=e.positions}return e.fromArray=function(t){return t.map((function(t){return new e(t)}))},e}(),f=function(){function e(e){this.abTestingId=e.id,this.name=e.name,this.campaigns=Array.isArray(null==e?void 0:e.campaigns_array)?e.campaigns_array.map((function(e){return new l(e)})):[],this.collection_tile_campaigns=Array.isArray(null==e?void 0:e.collection_tile_campaigns)?e.collection_tile_campaigns.map((function(e){return new d(e)})):[],this.percentage_split=e.percentage_split}return e.fromArray=function(t){return t.map((function(t){return new e(t)}))},e.prototype.updateNullCampaignContentId=function(){this.campaigns=this.campaigns.map((function(e){return e.content.includes("because_intelligence-null_banner")&&(e.content=e.content.replace("because_intelligence-null_banner","because_intelligence-null_banner_afe".concat(e.campaignId,"ffa"))),e}))},e}(),p=function(){function e(e){this.price=e.final_line_price,this.handle=e.handle,this.productId=e.product_id,this.productTitle=e.product_title,this.quantity=e.quantity,this.variantId=e.variant_id,this.title=e.title}return e.fromArray=function(t){return t.map((function(t){return new e(t)}))},e}(),h=function(){function e(e){this.currency=e.currency,this.itemCount=e.item_count,this.items=p.fromArray(e.items),this.itemsSubtotalPrice=Math.floor(e.items_subtotal_price/100),this.token=e.token}return e.prototype.slimCart=function(){var e=this.items.map((function(e){return{id:e.productId,variant_id:e.variantId}})),t=this.items.reduce((function(e,t){return e+t.quantity}),0),n=this.items.map((function(e){return{id:e.productId,quantity:e.quantity}}));return{products_in_cart:e,currency:this.currency,total:this.itemsSubtotalPrice,size:t,items:n}},e}(),m=n(1),v=n(0);function y(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var o=encodeURIComponent(JSON.stringify(t));document.cookie="".concat(e,"=").concat(o,";expires=").concat(r.toUTCString(),";path=/")}function b(e){for(var t="".concat(e,"="),n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t)){var i=o.substring(t.length,o.length);return JSON.parse(i)}}return null}function g(e){var t=new URLSearchParams(window.location.search),n=t.get("utm_source")||"",r=t.get("utm_medium")||"",o=t.get("utm_campaign")||"",i=t.get("utm_content")||"";if(""!==n||""!==r||""!==o||""!==i){var a=b(e)||{klaviyoKxToken:"",utms:[],campaign:{source:"",medium:"",campaign:"",content:""}};a.utms.some((function(e){return e.source===n&&e.medium===r&&e.campaign===o&&e.content===i}))||(a.utms.push({source:n,medium:r,campaign:o,content:i}),function(e,t,n,r,o){var i=b(e)||{klaviyoKxToken:"",utms:[],campaign:{source:"",medium:"",campaign:"",content:""}};i.campaign.source=t,i.campaign.medium=n,i.campaign.campaign=r,i.campaign.content=o,y(e,i,30)}(e,n,r,o,i)),y(e,a,30)}}var w=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},_=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},E=window.navigator;function T(e,t){void 0===t&&(t=window.location.href);var n=e.replace(/[\[\]]/g,"\\$&"),r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function x(e){return w(this,void 0,void 0,(function(){var t;return _(this,(function(n){t={"Content-Type":"application/json"};try{a.a.post(m.b+"/track/campaign_view",e,{headers:t})}catch(e){Object(v.d)(e)}return[2]}))}))}function k(e){return w(this,void 0,void 0,(function(){var t;return _(this,(function(n){t={"Content-Type":"application/json"};try{a.a.post(m.b+"/track/true_impression",e,{headers:t})}catch(e){Object(v.d)(e)}return[2]}))}))}function j(e){return w(this,void 0,void 0,(function(){var t;return _(this,(function(n){t={"Content-Type":"application/json"};try{a.a.post(m.b+"/track/add_to_cart_for_ab",e,{headers:t})}catch(e){Object(v.d)(e)}return[2]}))}))}function A(e){return w(this,void 0,void 0,(function(){var t;return _(this,(function(n){t={"Content-Type":"application/json"};try{a.a.post(m.b+"/track/add_to_cart_for_normal",e,{headers:t})}catch(e){Object(v.d)(e)}return[2]}))}))}function C(e){return w(this,void 0,void 0,(function(){return _(this,(function(t){switch(t.label){case 0:return"public-rec-2.myshopify.com"!=e?[3,2]:[4,new Promise((function(e){return setTimeout(e,200)})).then((function(){return new Promise((function(e,t){jQuery.ajax({url:"/api/cart",timeout:1e3,type:"GET",dataType:"json",success:function(t){e(new h(t))},error:function(e){t(e)}})}))}))];case 1:return[2,t.sent()];case 2:return[2,new Promise((function(e,t){jQuery.ajax({url:"/cart.js",timeout:1e3,type:"GET",dataType:"json",success:function(t){e(new h(t))},error:function(e){t(e)}})}))]}}))}))}function O(e){var t;if(null!=(null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.product))return 1==e.meta.product.variants.length&&String(e.meta.product.variants[0].id)!=e.meta.selectedVariantId?String(e.meta.product.variants[0].id):e.meta.selectedVariantId&&e.meta.selectedVariantId.includes("gid://shopify/ProductVariant/")?e.meta.selectedVariantId.replace("gid://shopify/ProductVariant/",""):e.meta.selectedVariantId}function S(e){return w(this,void 0,void 0,(function(){var t,n;return _(this,(function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return!e.meta.hasOwnProperty("selectedVariantId")&&t<=3?[4,new Promise((function(e){t+=1,setTimeout(e,1e3)}))]:[3,3];case 2:return r.sent(),[3,1];case 3:return Object(v.d)("waiting for selectedVariantId"),Object(v.d)("selectedVariantId is defined",e.meta.selectedVariantId),1==e.meta.product.variants.length&&String(e.meta.product.variants[0].id)!=e.meta.selectedVariantId?[2,String(e.meta.product.variants[0].id)]:(n=T("variant"))?[2,n]:e.meta.selectedVariantId?e.meta.selectedVariantId.includes("gid://shopify/ProductVariant/")?[2,e.meta.selectedVariantId.replace("gid://shopify/ProductVariant/","")]:[2,e.meta.selectedVariantId]:[2,void 0]}}))}))}function I(e){return w(this,void 0,void 0,(function(){var t;return _(this,(function(n){switch(n.label){case 0:t=0,n.label=1;case 1:return!e.meta.hasOwnProperty("product")&&t<=3?[4,new Promise((function(e){t+=1,setTimeout(e,1e3)}))]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2,Number(e.meta.product.id)||Number(e.meta.product.productId)]}}))}))}function P(e){return w(this,void 0,void 0,(function(){var t;return _(this,(function(n){switch(n.label){case 0:t=0,n.label=1;case 1:return!e.meta.hasOwnProperty("page")&&t<=3?[4,new Promise((function(e){t+=1,setTimeout(e,1e3)}))]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2,e.meta.page.resourceId]}}))}))}function N(e){var t,n;return w(this,void 0,void 0,(function(){var r,o,i,a;return _(this,(function(c){switch(c.label){case 0:r=0,c.label=1;case 1:return!e.meta.hasOwnProperty("products")&&r<=3?[4,new Promise((function(e){r+=1,setTimeout(e,1e3)}))]:[3,3];case 2:return c.sent(),[3,1];case 3:for(o=[],i=0;i<e.meta.products.length;i++)(a={id:0,variant_id:""}).id=null===(t=e.meta)||void 0===t?void 0:t.products[i].id,a.variant_id=null===(n=e.meta)||void 0===n?void 0:n.products[i].variants[0].id.toString(),o.push(a);return[2,o]}}))}))}function B(){return w(this,void 0,void 0,(function(){var e,t;return _(this,(function(n){return e=document.querySelectorAll("a"),t=Array.from(e).map((function(e){return e.href})).filter((function(e){return e.includes("/products/")})).map((function(e){return e.split("/products/")[1].split("?")[0].split("#")[0]})).filter(Boolean),[2,Array.from(new Set(t))]}))}))}function R(e,t,n,r,o,i){var c,u;return w(this,void 0,void 0,(function(){var n,s,p,y,g,w,x,k,j,A,O,R,L,D,U,Q,M,q,V,F,G,H;return _(this,(function(_){switch(_.label){case 0:return s=e.shop.slice(0,-14),p=t.meta.page.pageType,y="",g=0,w="",x=[],k=[],"product"!=p?[3,4]:"public-rec-2"!=s?[3,1]:(Object(v.d)("We are public-rec-2"),y=T("variant"),g=Number(T("product")),[3,4]);case 1:return[4,S(t)];case 2:return y=_.sent(),[4,I(t)];case 3:g=_.sent(),_.label=4;case 4:return"collection"!=p?[3,9]:[4,P(t)];case 5:return w=_.sent(),"trueclassictees-com"!=s?[3,7]:[4,B()];case 6:k=_.sent(),_.label=7;case 7:return""===w?[3,9]:[4,N(t)];case 8:x=_.sent(),_.label=9;case 9:return j=void 0,i?(j=i.slimCart(),[3,12]):[3,10];case 10:return[4,C(e.shop).then((function(e){return e.slimCart()})).catch((function(e){return Object(v.d)("rejected : error whilst trying to retrieve Cart from Shopify - ",e.statusText),new h({currency:"",item_count:0,items:[],items_subtotal_price:0,token:""}).slimCart()}))];case 11:j=_.sent(),_.label=12;case 12:if("becauseCookie",A=b("becauseCookie"),O=[],A?O=A.utms||[]:Object(v.d)("Cookie data not found."),"home"==p&&void 0===g)try{R=$("form[id^='product_form_'")[0],g=Number(null===(c=null==R?void 0:R.getAttribute("id"))||void 0===c?void 0:c.split("_")[3])||void 0}catch(e){g=void 0,Object(v.d)(e)}L=function(){var e;(null==E?void 0:E.userLanguage)||(null==E?void 0:E.languages)&&(null===(e=null==E?void 0:E.languages)||void 0===e?void 0:e.length)&&(null==E?void 0:E.languages[0])||(null==E?void 0:E.language)||(null==E?void 0:E.browserLanguage)||null==E||E.systemLanguage},D=[],null===(u=jQuery("div.beautiful_intelligence-location"))||void 0===u||u.each((function(){null!==this.getAttribute("campaign_id")&&D.push(this.getAttribute("campaign_id"))})),""==(U=D.join(","))&&(U=0),Q=new Headers({"Content-Type":"application/json","User-Agent":window.navigator.userAgent}),M={shop_name:s,product_id:g,campaign_id:U,site_visitor_id:r.id,page_type:p,slim_cart:j,variant_id:y,browser_language:L(),utms:O,collection:w,product_ids_in_collection:x,products_in_collection:x,klaviyo_exchange_id:o,url:window.location.href,klaviyo_preview_name:"",klaviyo_preview_id:"",products_handles_in_collection:k},null!==(q=Object(v.j)(m.e.Preview))&&(M.campaign_preview_id=parseInt(q)),null!==(V=Object(v.j)(m.e.RuleChecker))&&(M.viewing_user_id=parseInt(V)),(F=Object(v.i)())&&(M.klaviyo_preview_segment=F),(G=Object(v.h)())&&(M.klaviyo_preview_name=G.campaignName,M.klaviyo_preview_id=G.campaignId),"product"==p||!U&&void 0!==g&&0!==g||(M.product_id=0),_.label=13;case 13:return _.trys.push([13,15,,16]),[4,a.a.post(m.b+"/campaigns/fetch",M,{headers:Q})];case 14:return n=_.sent(),[3,16];case 15:return H=_.sent(),Object(v.d)(H),[2,{campaigns:[],ab_testing:[],pop_ups:[],collection_campaigns:[]}];case 16:return[2,{campaigns:l.fromArray(n.data.campaigns),ab_testing:f.fromArray(n.data.ab_campaigns),pop_ups:l.fromArray(n.data.pop_ups),collection_campaigns:d.fromArray(n.data.collection_campaigns)}]}}))}))}function L(e){var t,n,r=[];if(r=(null===(t=e.stylesheet_fonts)||void 0===t?void 0:t.length)>0&&(null===(n=e.stylesheet)||void 0===n?void 0:n.length)<1?e.stylesheet_fonts:function(e){if(null==e||"{NULL}"==e)return;var t=e;return(t=(t=(t=t.replace("{","")).replace(/\"/gi,"")).replace("}","")).split(",")}(e.stylesheet))for(var o=0,i=r;o<i.length;o++){for(var a=i[o],c="https://fonts.googleapis.com/css?family=".concat(a),u=document.styleSheets,s=new Boolean(!0),l=0,d=u.length;l<d;l++){u[l].href&&u[l].href.includes(a)&&(s=!1);break}if(s){var f=document.createElement("link");f.rel="stylesheet",f.href=c,document.getElementsByTagName("head")[0].appendChild(f)}}}var D=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},U=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function Q(e,t,n,r,o,i,a,c,u,s,l,d,f){return D(this,void 0,void 0,(function(){return U(this,(function(p){switch(p.label){case 0:return function(e){var t=localStorage.getItem(m.d.CampaignIds);if(t){return JSON.parse(t).includes(e)}return!1}(s)?[2]:(function(e){var t=[],n=localStorage.getItem(m.d.CampaignIds);n&&(t=JSON.parse(n));t.push(e),localStorage.setItem(m.d.CampaignIds,JSON.stringify(t))}(s),[4,x({timestamp:Date.now(),shop_name:t,site_visitor_id:e,event_type:"campaign_view",in_experiment:i,page_host:r,page_path:o,page_title:n,cart_token:a,device_info:c,page_type:u,campaign_id:s,product_id:l,playbook_id:d,variant_id:f})]);case 1:return p.sent(),[2]}}))}))}function M(e){var t=[],n=localStorage.getItem(m.d.CampaignIds);n&&(t=JSON.parse(n));var r=t.indexOf(e);r>-1&&t.splice(r,1),localStorage.setItem(m.d.CampaignIds,JSON.stringify(t))}function q(e,t,n,r,o,i,a,c,u,s,l,d,f){return D(this,void 0,void 0,(function(){return U(this,(function(p){switch(p.label){case 0:return Object(v.d)("trackTrueImpression",s),[4,k({timestamp:Date.now(),shop_name:t,site_visitor_id:e,event_type:"true_impression",in_experiment:i,page_host:r,page_path:o,page_title:n,cart_token:a,device_info:c,page_type:u,campaign_id:s,product_id:l,playbook_id:d,variant_id:f})];case 1:return p.sent(),[2]}}))}))}var V,F,G=(V=function(e,t){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),H=null!==Object(v.j)(m.e.Preview),W=null!==Object(v.j)(m.e.AbTesting),z=window.Shopify.shop,K=function(){function e(){}return e.prototype.handleCollecitonTiles=function(e,t,n,r,o,i){},e.prototype.findAddToCartButton=function(e){var t=['[type*="submit"][name*="add"]','[type*=submit][class*="add"]','[type*=submit][class*="Add"]',"[id*=AddToCart][name*=add]",'[type="submit"]','[name=add][class*="ajax-submit"]',".add-to-cart",'.add[type="submit"]','[class*="add-to-cart"]'],n=['form[id="AddToCartForm-'+e+'"]','form[id="product_form_'+e+'"]','[id="product-'+e+'"]','form[data-type="add-to-cart-form"]','form[data-productid="'+e+'"]','form[data-product-id="'+e+'"]','form[action="/cart/add"]','form[action="/cart/add"][enctype="multipart/form-data"]','form[id="AddToCartForm--product-template"]','form[id="js-product-add-form"]','form[action="/cart/add"][id$='+e+"]"];for(var r in n)if(0!=jQuery.isNumeric(r)){var o=jQuery(n[r]);if(o&&1==o.length)for(var i in Object(v.d)("in here.. "+n[r]),t)if(0!=jQuery.isNumeric(i)){var a=jQuery(n[r]+" "+t[i]);if(a&&1==a.length)return Object(v.d)("found button "+t[i]+" inside form "+n[r]),a}}},e.prototype.installCartAbAddTracking=function(e,t,n,r,o,i,a,c){void 0!==e&&(e.on("click",(function(e){!function(e,t,n,r,o,i,a){D(this,void 0,void 0,(function(){return U(this,(function(c){switch(c.label){case 0:return[4,j({timestamp:Date.now(),shop_name:e,ab_test_id:t,campaign_id:n,site_visitor_id:r,cart_token:o,product_id:i,playbook_id:a})];case 1:return c.sent(),[2]}}))}))}(t,n,r,o,i,a,c)})),Object(v.d)("installed on click event.."))},e.prototype.installCartAddTracking=function(e,t,n,r,o,i,a){void 0!==e&&(e.on("click",(function(e){!function(e,t,n,r,o,i){D(this,void 0,void 0,(function(){return U(this,(function(a){switch(a.label){case 0:return[4,A({timestamp:Date.now(),shop_name:e,campaign_id:t,site_visitor_id:n,cart_token:r,product_id:o,playbook_id:i})];case 1:return a.sent(),[2]}}))}))}(t,n,r,o,i,a)})),Object(v.d)("installed on click event.."))},e}(),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return G(t,e),Object.defineProperty(t.prototype,"placementType",{get:function(){return u.ADD_TO_CART},enumerable:!1,configurable:!0}),t.prototype.selectElement=function(e,t){var n,r=null===(n=e.attributes)||void 0===n?void 0:n.selector;if(r){var o=void 0;Object(v.d)("BECAUSE LOCAL - looking for selector");try{o=jQuery(r)}catch(e){Object(v.d)("invalid selector found:",r)}return o}var i=this.findAddToCartButton(t);if(void 0!==i)return i},t.prototype.handleElement=function(e,t,n,r,o){var i,a,c=O(n);L(e);var u=(null===(a=null===(i=null==n?void 0:n.meta)||void 0===i?void 0:i.product)||void 0===a?void 0:a.id)||0,s=this.selectElement(e,u),l=new IntersectionObserver((function(n){n.forEach((function(n){n.isIntersecting&&(q(o.id,t.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,o.inExperiment,r.token,window.navigator.userAgent,"PDP",e.campaignId,u,e.playbookId,c),l.unobserve(n.target))}))}));if(s&&s.length>0){var d=s.first();Object(v.d)("found button - adding banner above add to cart button");var f=jQuery(e.content).insertBefore(d)[0];if(l.observe(f),""!==e.inline_style&&jQuery("head").append(e.inline_style),""!==e.inline_script&&jQuery(e.inline_script).insertBefore(d.parent()),H||W)return void Object(v.d)("Preview Mode detected - skip tracking");Q(o.id,t.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,o.inExperiment,r.token,window.navigator.userAgent,"PDP",e.campaignId,u,e.playbookId,c);var p=this.findAddToCartButton(u);void 0!==p&&this.installCartAddTracking(p,t.shop,e.campaignId,o.id,r.token,u,e.playbookId)}else Object(v.d)("did not find add to cart button")},t}(K),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return G(t,e),Object.defineProperty(t.prototype,"placementType",{get:function(){return u.SPECIFIC},enumerable:!1,configurable:!0}),t.prototype.selectElement=function(e,t){var n=jQuery("div[class=beautiful_intelligence-location][campaign_id="+e.campaignId+"]");return void 0!==n[0]||void 0!==(n=jQuery("div.beautiful_intelligence-location"))[0]?n:void 0},t.prototype.handleElement=function(e,t,n,r,o){var i,a;L(e);var c=this.selectElement(e,0),u=null===(a=null===(i=null==n?void 0:n.meta)||void 0===i?void 0:i.product)||void 0===a?void 0:a.id,s=O(n);if(void 0!==c){var l=new IntersectionObserver((function(n){n.forEach((function(n){n.isIntersecting&&(q(o.id,t.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,o.inExperiment,r.token,window.navigator.userAgent,"SPECIFIC",e.campaignId,u,e.playbookId,s),l.unobserve(n.target))}))}));c.each((function(t){void 0!==$(c[t]).attr("campaign_id")&&Number($(c[t]).attr("campaign_id"))!==e.playbookId&&$(c[t]).attr("campaign_id")!=="afe"+e.playbookId+"ffa"||(c[t].innerHTML=e.content,""!==e.inline_style&&jQuery("head").append(e.inline_style),""!==e.inline_script&&jQuery(e.inline_script).insertBefore(c[t]));var n=jQuery(e.content)[0];l.observe(n)})),H||W?Object(v.d)("Preview Mode detected - skip tracking"):Q(o.id,t.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,o.inExperiment,r.token,window.navigator.userAgent,"SPECIFIC",e.campaignId,u,e.playbookId,s)}},t}(J),X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return G(t,e),Object.defineProperty(t.prototype,"placementType",{get:function(){return u.TOP_BANNER},enumerable:!1,configurable:!0}),t.prototype.selectElement=function(e){var t,n=null===(t=e.attributes)||void 0===t?void 0:t.selector;if(n){var r=void 0;try{r=jQuery(n)}catch(e){Object(v.d)("invalid selector found:",n)}return r}var o=jQuery('[id^="shopify-section"][id$="-header"]');return void 0!==o[0]||void 0!==(o=jQuery('[id^="header"][class^="mobile_nav"]'))[0]||void 0!==(o=jQuery('[id^="shopify-section"][id$="-header-template"]'))[0]?o:void 0},t.prototype.handleElement=function(e,t,n,r,o){var i,a;L(e);var c=null===(a=null===(i=null==n?void 0:n.meta)||void 0===i?void 0:i.product)||void 0===a?void 0:a.id,s=O(n),l=this.selectElement(e),d=new IntersectionObserver((function(n){n.forEach((function(n){n.isIntersecting&&(q(o.id,t.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,o.inExperiment,r.token,window.navigator.userAgent,u.TOP_BANNER,e.campaignId,c,e.playbookId,s),d.unobserve(n.target))}))}));if(l&&l.length>0){var f=jQuery(e.content).insertBefore(l.get(0))[0];if(d.observe(f),""!==e.inline_style&&jQuery("head").append(e.inline_style),""!==e.inline_script&&jQuery(e.inline_script).insertBefore(l.get(0).parentElement),H||W)return void Object(v.d)("Preview Mode detected - skip tracking");Q(o.id,t.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,o.inExperiment,r.token,window.navigator.userAgent,u.TOP_BANNER,e.campaignId,c,e.playbookId,s)}},t}(K),Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return G(t,e),Object.defineProperty(t.prototype,"placementType",{get:function(){return u.UNDER_TOP_BANNER},enumerable:!1,configurable:!0}),t.prototype.selectElement=function(e){var t,n=null===(t=e.attributes)||void 0===t?void 0:t.selector;if(n){var r=void 0;try{r=jQuery(n)}catch(e){Object(v.d)("invalid selector found:",n)}return r}var o=jQuery('[id^="shopify-section"][id$="-header"]');return void 0!==o[0]||void 0!==(o=jQuery('[id^="header"][class^="mobile_nav"]'))[0]||void 0!==(o=jQuery('[id^="shopify-section"][id$="-header-template"]'))[0]?o:void 0},t.prototype.handleElement=function(e,t,n,r,o){var i,a;L(e);var c=null===(a=null===(i=null==n?void 0:n.meta)||void 0===i?void 0:i.product)||void 0===a?void 0:a.id,s=O(n),l=this.selectElement(e),d=new IntersectionObserver((function(n){n.forEach((function(n){n.isIntersecting&&(q(o.id,t.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,o.inExperiment,r.token,window.navigator.userAgent,u.UNDER_TOP_BANNER,e.campaignId,c,e.playbookId,s),d.unobserve(n.target))}))}));if(l&&l.length>0){var f=jQuery(e.content).insertAfter(l)[0];if(d.observe(f),""!==e.inline_style&&jQuery("head").append(e.inline_style),""!==e.inline_script&&jQuery(e.inline_script).insertBefore(l.parent()),H||W)return void Object(v.d)("Preview Mode detected - skip tracking");Q(o.id,t.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,o.inExperiment,r.token,window.navigator.userAgent,u.UNDER_TOP_BANNER,e.campaignId,c,e.playbookId,s)}},t}(K),ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return G(t,e),Object.defineProperty(t.prototype,"placementType",{get:function(){return u.POPUP},enumerable:!1,configurable:!0}),t.prototype.selectElement=function(e){var t=jQuery('[id^="shopify-section"][id$="-header"]');return void 0!==t[0]||void 0!==(t=jQuery('[id^="shopify-section"][id$="-header-template"]'))[0]?t:void 0},t.prototype.handleElement=function(e,t,n,r,o){var i,a;L(e);var c=(null===(a=null===(i=null==n?void 0:n.meta)||void 0===i?void 0:i.product)||void 0===a?void 0:a.id)||0,u=O(n),s=this.selectElement(e);if(s&&s.length>0){if(jQuery(e.content).insertAfter(s),""!==e.inline_style&&jQuery("head").append(e.inline_style),""!==e.inline_script&&jQuery(e.inline_script).insertBefore(s.parent()),H||W)return void Object(v.d)("Preview Mode detected - skip tracking");Q(o.id,t.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,o.inExperiment,r.token,window.navigator.userAgent,"POPUP",e.campaignId,c,e.playbookId,u)}},t}(K),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return G(t,e),Object.defineProperty(t.prototype,"placementType",{get:function(){return u.UNDER_ADD_TO_CART},enumerable:!1,configurable:!0}),t.prototype.selectElement=function(e,t){var n,r=null===(n=e.attributes)||void 0===n?void 0:n.selector;if(r){var o=void 0;try{o=jQuery(r)}catch(e){Object(v.d)("invalid selector found:",r)}return o}var i=this.findAddToCartButton(t);if(void 0!==i)return i},t.prototype.handleElement=function(e,t,n,r,o){var i,a;L(e);var c=(null===(a=null===(i=null==n?void 0:n.meta)||void 0===i?void 0:i.product)||void 0===a?void 0:a.id)||0,u=O(n),s=this.selectElement(e,c),l=new IntersectionObserver((function(n){n.forEach((function(n){n.isIntersecting&&(q(o.id,t.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,o.inExperiment,r.token,window.navigator.userAgent,"PDP",e.campaignId,c,e.playbookId,u),l.unobserve(n.target))}))}));if(s&&s.length>0){var d=s.first();Object(v.d)("adding banner under add to cart button");var f=jQuery(e.content).insertAfter(d.parent())[0];if(l.observe(f),""!==e.inline_style&&jQuery("head").append(e.inline_style),""!==e.inline_script&&jQuery(e.inline_script).insertBefore(d.parent()),H||W)return void Object(v.d)("Preview Mode detected - skip tracking");Q(o.id,t.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,o.inExperiment,r.token,window.navigator.userAgent,"PDP",e.campaignId,c,e.playbookId,u);var p=this.findAddToCartButton(c);void 0!==p&&this.installCartAddTracking(p,t.shop,e.campaignId,o.id,r.token,c,e.playbookId)}else Object(v.d)("did not find add to cart button")},t}(K),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.usedImages=new Map,t.counter={exact:0,loose:0},t.shouldUseHandleLogic=!m.f.includes(z),t}return G(t,e),Object.defineProperty(t.prototype,"placementType",{get:function(){return u.COLLECTION_PAGE},enumerable:!1,configurable:!0}),t.prototype.selectElement=function(e,t){var n,r=null===(n=e.attributes)||void 0===n?void 0:n.selector;if(r){var o=void 0;try{o=jQuery(r),Object(v.d)("Selector found: ".concat(r,". Result: "),o)}catch(e){Object(v.d)("Invalid selector found:",r)}return jQuery("a[href*=".concat(t,"]")).each((function(){var e=jQuery(this).prop("href");if(-1!==e.indexOf(t))return o=jQuery(this),Object(v.d)("Found element with position: ".concat(t,", href: ").concat(e)),!1})),o}Object(v.d)("No selector found.")},t.prototype.handleElement=function(e,t,n,r,o){Object(v.d)("handleElement not needed for this implementation.")},t.prototype.findCollectionTile=function(e,t){var n=this,r=void 0,o=e.attributes.selector,i=jQuery(o);if(!this.shouldUseHandleLogic){var a=Object(v.e)(t),c=this.counter;return o?i.each((function(){var e=this;if(e instanceof HTMLImageElement){if(Object(v.c)(e,a,c))return r=jQuery(e),!1}else jQuery(e).find("img").each((function(){if(Object(v.c)(this,a,c))return r=jQuery(e),!1}))})):jQuery("img").each((function(e,t){return t instanceof HTMLImageElement&&(Object(v.c)(t,a,c,n.usedImages)?(r=jQuery(t),!1):void 0)})),jQuery(r)}if(o)i.each((function(){if(Object(v.b)(this,t))return Object(v.d)("Exact match found for handle: ".concat(t)),r=this,!1}));else{var u=Object(v.f)(t);if("trueclassictees-com.myshopify.com"===z){var s=Object(v.g)(t);s.length>0&&(r=s)}else u?r=u:Object(v.d)("No image tag found for handle: ".concat(t))}return Object(v.d)("Returning result for selector: ",r),jQuery(r)},t.prototype.handleCollecitonTiles=function(e,t,n,r,o,i){var a=this;Object(v.d)("-- Inserting badges for Campaign ID: "+e.campaignId);var c=0;i.forEach((function(t){L(e);var n=a.findCollectionTile(e,t);if(n&&n.length>0){var r=jQuery(e.content);e.attributes.selector?jQuery(n).append(r):jQuery(r).insertBefore(n).parent(),""!==e.inline_style&&jQuery("head").append(e.inline_style),""!==e.inline_script&&jQuery(e.inline_script).insertBefore(n.parent()),c++}else Object(v.d)("Could not find collection tile for handle: ".concat(t))})),Object(v.d)("# of Product Handles to find: ".concat(i.length)),Object(v.d)("# of Badges inserted: ".concat(c)),this.shouldUseHandleLogic&&(Object(v.d)("# of exact matches of Product Images: "+this.counter.exact),Object(v.d)("# of loose matches of Product Images: "+this.counter.loose),this.counter={exact:0,loose:0}),H||W?Object(v.d)("Preview Mode detected - skip tracking"):Q(o.id,t.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,o.inExperiment,r.token,window.navigator.userAgent,"PDP",e.campaignId,0,e.playbookId,"")},t}(K),re=function(e){return e.content.includes('<div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">')&&e.content.includes('<img src="https://imagedelivery.net/')},oe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ie=function(e,t,n,r){this.shopify=e,this.shopifyAnalytics=t,this.shopifyCart=n,this.siteVisitor=r},ae=(F=localStorage.getItem(m.d.CampaignIds))?JSON.parse(F):[],ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.getSelectorHandlers=function(){return[new ee]},t.prototype.handlePageForPopups=function(e){var t=this,n=[u.ADD_TO_CART,u.UNDER_ADD_TO_CART];e.forEach((function(e,r){t.getSelectorHandlers().forEach((function(r){if(e.placementType===r.placementType&&(r.handleElement(e,t.shopify,t.shopifyAnalytics,t.shopifyCart,t.siteVisitor),r.placementType in n)){var o=r.findAddToCartButton(t.shopifyAnalytics.meta.product.id);r.installCartAddTracking(o,t.shopify.shop,e.campaignId,t.siteVisitor.id,t.shopifyCart.token,t.shopifyAnalytics.meta.product.id,e.playbookId)}}))}));var r=e.map((function(e){return e.campaignId}));ae.forEach((function(e){r.includes(e)||M(e)}))},t}(ie),ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.handlePageForCampaigns=function(e){var t=this;this.getSelectorHandlers().forEach((function(n){e.forEach((function(e){e.attributes&&e.attributes.abTesting,t.siteVisitor.inExperiment;e.placementType===n.placementType&&n.handleElement(e,t.shopify,t.shopifyAnalytics,t.shopifyCart,t.siteVisitor)}))}));var n=e.map((function(e){return e.campaignId}));ae.forEach((function(e){n.includes(e)||M(e)}))},t.prototype.getSelectorHandlers=function(){return[new J,new X,new Z,new te,new Y]},t}(ie),se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.handlePageForCollections=function(e){var t=this,n=new ne;e.forEach((function(e){n.handleCollecitonTiles(e.campaign,t.shopify,t.shopifyAnalytics,t.shopifyCart,t.siteVisitor,e.positions)}));var r=e.map((function(e){return e.campaign.campaignId}));ae.forEach((function(e){r.includes(e)||M(e)}))},t.prototype.getSelectorHandlers=function(){return[new ne]},t}(ie),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.sliceByPercentage=function(e){var t=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f"],n=[],r=[],o=.16*e;for(var i in t)n.length+1<=o?n.push(t[i]):r.push(t[i]);return[n,r]},t.prototype.findFirstCampaignPlacementTypeForNoneBanner=function(e){var t=u.NONE;return 0===e.collection_tile_campaigns.length||null===e.collection_tile_campaigns?e.campaigns.forEach((function(e,n){e.placementType!=u.NONE&&t===u.NONE&&(t=e.placementType)})):e.collection_tile_campaigns.forEach((function(e,n){e.campaign.placementType!=u.NONE&&t===u.NONE&&(t=e.campaign.placementType)})),t},t.prototype.handlePageForAbTests=function(e){var t=this,n=O(this.shopifyAnalytics);e.forEach((function(e){var r=t.findFirstCampaignPlacementTypeForNoneBanner(e),o=t.sliceByPercentage(e.percentage_split),i=Object(v.j)(m.e.AbTesting);0===e.collection_tile_campaigns.length||null===e.collection_tile_campaigns?e.campaigns.forEach((function(a,c){var s=a.content.includes('id="because_intelligence-null_banner');if(re(a)){var l=document.querySelector(a.attributes.selector);if(!l&&!l.getAttribute("srcset")||l.getAttribute("srcset")!==function(e){var t=e.content.indexOf('<img src="')+'<img src="'.length,n=e.content.indexOf('"',t);return e.content.substring(t,n)}(a))return;t.shopifyAnalytics.meta.page.pageType.includes("product")?Q(t.siteVisitor.id,t.shopify.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,t.siteVisitor.inExperiment,t.shopifyCart.token,window.navigator.userAgent,"PDP",a.campaignId,t.shopifyAnalytics.meta.product.id,a.playbookId,n):Q(t.siteVisitor.id,t.shopify.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,t.siteVisitor.inExperiment,t.shopifyCart.token,window.navigator.userAgent,"PDP",a.campaignId,0,a.playbookId,"")}else if(o[c].some((function(e){return e==t.siteVisitor.id[0]}))||"TEST"===i||"CONTROL"===i&&1===c)if(s&&!i)t.getSelectorHandlers().forEach((function(e){(a.placementType===e.placementType||a.placementType===u.NONE&&r===e.placementType)&&e.handleElement(a,t.shopify,t.shopifyAnalytics,t.shopifyCart,t.siteVisitor)}));else if(!s||"TEST"!==i&&"CONTROL"!==i){if("TEST"===i&&0===c||"CONTROL"===i&&1===c||!i)return void t.getSelectorHandlers().forEach((function(n){var o,i;if(a.placementType===n.placementType||a.placementType===u.NONE&&r===n.placementType){n.handleElement(a,t.shopify,t.shopifyAnalytics,t.shopifyCart,t.siteVisitor);var c=null!==(i=null===(o=t.shopifyAnalytics.meta.product)||void 0===o?void 0:o.id)&&void 0!==i?i:0,s=n.findAddToCartButton(c);n.installCartAbAddTracking(s,t.shopify.shop,e.abTestingId,a.campaignId,t.siteVisitor.id,t.shopifyCart.token,c,a.playbookId)}}))}else;})):e.collection_tile_campaigns.forEach((function(e,n){var r=e.campaign.content.includes('id="because_intelligence-null_banner');(o[n].some((function(e){return e==t.siteVisitor.id[0]}))||"TEST"===i||"CONTROL"===i&&1===n)&&(r&&!i?Q(t.siteVisitor.id,t.shopify.shop.slice(0,-14),document.title,window.location.host,window.location.pathname,t.siteVisitor.inExperiment,t.shopifyCart.token,window.navigator.userAgent,"PDP",e.campaign.campaignId,0,e.campaign.playbookId,""):(new ne).handleCollecitonTiles(e.campaign,t.shopify,t.shopifyAnalytics,t.shopifyCart,t.siteVisitor,e.positions))}))}))},t.prototype.getSelectorHandlers=function(){return[new Y,new J,new X,new Z,new te,new ne]},t}(ie),de=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},fe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function pe(){return de(this,void 0,void 0,(function(){var e,t,n;return fe(this,(function(r){switch(r.label){case 0:e=0,t=1e3,r.label=1;case 1:return e<10?void 0!==(n=window.Shopify)?(Object(v.d)("Successfully loaded the Shopify object after ",e," attempts."),[2,n]):[4,new Promise((function(e){return setTimeout(e,t)}))]:[3,3];case 2:return r.sent(),e+=1,[3,1];case 3:throw"Could not load the Shopify object after ".concat(e," attempts, each ").concat(t," milliseconds apart.")}}))}))}var he,me=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},ve=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function ye(){return me(this,void 0,void 0,(function(){var e,t,n;return ve(this,(function(r){switch(r.label){case 0:e=0,t=1e3,r.label=1;case 1:return e<10?void 0!==(n=window.ShopifyAnalytics)?(Object(v.d)("Successfully loaded the Shopify Analytics object."),[2,n]):[4,new Promise((function(e){return setTimeout(e,t)}))]:[3,3];case 2:return r.sent(),e+=1,[3,1];case 3:throw"Could not load the Shopify object after ".concat(e," attempts, each ").concat(t," milliseconds apart.")}}))}))}var be=new Uint8Array(16);function ge(){if(!he&&!(he="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return he(be)}var we=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var _e=function(e){return"string"==typeof e&&we.test(e)},Ee=[],Te=0;Te<256;++Te)Ee.push((Te+256).toString(16).substr(1));var xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ee[e[t+0]]+Ee[e[t+1]]+Ee[e[t+2]]+Ee[e[t+3]]+"-"+Ee[e[t+4]]+Ee[e[t+5]]+"-"+Ee[e[t+6]]+Ee[e[t+7]]+"-"+Ee[e[t+8]]+Ee[e[t+9]]+"-"+Ee[e[t+10]]+Ee[e[t+11]]+Ee[e[t+12]]+Ee[e[t+13]]+Ee[e[t+14]]+Ee[e[t+15]]).toLowerCase();if(!_e(n))throw TypeError("Stringified UUID is invalid");return n};var ke=function(e,t,n){var r=(e=e||{}).random||(e.rng||ge)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return xe(r)},je=function(e,t){this.id=e,this.sessionStartTimestamp=new Date(t.session_start_timestamp),this.lastSessionActivity=new Date(t.last_session_activity),this.numPagesViewed=t.pages_viewed,this.initialUrl=t.initial_url,this.inExperiment=t.in_experiment,this.sessionCount=t.session_count},Ae=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},Ce=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function Oe(e){return Ae(this,void 0,void 0,(function(){var t,n,r,o,i,a,c,u,s;return Ce(this,(function(l){for(t=e.shop.slice(0,-14),n="because-site-visitor-".concat(t),r=n.length+1,o=localStorage,i=0;i<o.length;i++)if(a=o.key(i),c=o.getItem(a),a.startsWith(n))return u=a.substring(r),s=new je(u,JSON.parse(c)),[2,Se(u,a,s)];return[2,function(e){var t=Date.now(),n=ke(),r=e.concat("-").concat(n),o=t,i=t,a=window.location.href,c=function(){if(Math.random()<.5)return!0;return!1}(),u={session_start_timestamp:o,last_session_activity:i,pages_viewed:1,initial_url:a,in_experiment:c,session_count:1};return localStorage.setItem(r,JSON.stringify(u)),new je(n,u)}(n)]}))}))}function Se(e,t,n){var r=Date.now(),o=r-18e5,i=n.lastSessionActivity.getMilliseconds()>o?r:new Date(n.sessionStartTimestamp).getTime(),a=r,c=i===r,u=c?1:n.numPagesViewed+1,s=c?window.location.href:n.initialUrl,l=function(e,t){return null!==t?e?t+1:t:1}(c,n.sessionCount),d={session_start_timestamp:i,last_session_activity:a,pages_viewed:u,initial_url:s,in_experiment:n.inExperiment,session_count:l};return localStorage.setItem(t,JSON.stringify(d)),new je(e,d)}var Ie=function(){return(Ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Pe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},Ne=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function Be(){return Pe(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,c,u,s,l;return Ne(this,(function(d){switch(d.label){case 0:if(e="becauseCookie",t=document.cookie.split("; ").find((function(e){return e.startsWith("__kla_id=")}))){n=t.split("__kla_id=")[1],r=atob(n);try{return o=JSON.parse(r),[2,o.$exchange_id||""]}catch(e){return Object(v.d)("Error parsing klaviyo data:",e),[2,""]}}else Object(v.d)("No __kla_id cookie found.");if(function(e){return 2==="; ".concat(document.cookie).split("; ".concat(e,"=")).length}(e)&&(s=b(e)))return[2,s.klaviyoKxToken];i="",d.label=1;case 1:return d.trys.push([1,3,,4]),[4,new Promise((function(e,t){var n=setTimeout((function(){Object(v.d)("Klaviyo identify promise timed out"),t("Klaviyo identify promise timed out")}),1e3);window.klaviyo.identify({}).then((function(t){clearTimeout(n),e(t.referrer.first_page)})).catch((function(e){clearTimeout(n),t(e)}))}))];case 2:return a=d.sent(),i=a,[3,4];case 3:return c=d.sent(),Object(v.d)("Error identifying referrer:",c),[3,4];case 4:return i.length>0&&(f=i.match(/_kx=([^&]+)/),u=f?f[1]:null)?(s=void 0,l=b(e),(s=l?Ie({},l):{klaviyoKxToken:"",utms:[]}).klaviyoKxToken=u,y(e,s,30),Object(v.d)("Klaviyo token found and cookie set"),[2,u]):[2,""]}var f}))}))}var Re=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},Le=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},De=function(){function e(e){this.id=e.id,this.name=e.name,this.price=e.price,this.public_title=e.public_title,this.sku=e.sku}return e.fromArray=function(t){return t.map((function(t){return new e(t)}))},e}(),Ue=function(e){this.id=e.id,this.variants=De.fromArray(e.variants),this.vendor=e.vendor};var Qe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},Me=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function qe(e,t){return Qe(this,void 0,void 0,(function(){var n,r,o,i=this;return Me(this,(function(a){switch(a.label){case 0:return[4,ye()];case 1:return n=a.sent(),r=!0,o=0,document.addEventListener("scroll",(function(){return Qe(i,void 0,void 0,(function(){var i,a,c,u,s,l,d=this;return Me(this,(function(f){switch(f.label){case 0:return i=n.meta.products,a=n.meta.page.pageType,"umbra-us.myshopify.com"!==e&&"umbra-ca.myshopify.com"!==e?[3,3]:(c=jQuery(".js-pagination-result").length,r?i.length===c||"collection"!==a?[2]:c>i.length?(r=!1,50,u=Math.ceil(c/50),s="".concat(window.location.href,"?page=").concat(u),[4,fetch(s).then((function(e){return e.text()})).then((function(e){Object(v.d)("Because Widget - Infinite Scroll - Fetching page ",u),(new DOMParser).parseFromString(e,"text/html").querySelectorAll("script").forEach((function(e){if(e.innerHTML.includes("var meta = {")){var t=e.innerHTML.split("var meta = ")[1].split("};")[0]+"}";JSON.parse(t).products.forEach((function(e){window.ShopifyAnalytics.meta.products.some((function(t){return t.id===e.id}))||window.ShopifyAnalytics.meta.products.push(e)})),r=!0}}))})).finally((function(){return Qe(d,void 0,void 0,(function(){var n=this;return Me(this,(function(r){switch(r.label){case 0:return[4,C(e).then((function(e){return Qe(n,void 0,void 0,(function(){return Me(this,(function(n){switch(n.label){case 0:return[4,cn(t,e)];case 1:return n.sent(),[2]}}))}))}))];case 1:return r.sent(),[2]}}))}))}))]):[3,2]:[2]);case 1:f.sent(),f.label=2;case 2:return[3,6];case 3:return"public-rec-2.myshopify.com"!==e?[3,6]:(l=jQuery("#product-list-wrapper").children().length,0===o?(o=l,[2]):o!==l&&"collection"===a&&r?l>o?(o=l,r=!1,[4,C(e).then((function(e){return Qe(d,void 0,void 0,(function(){return Me(this,(function(n){switch(n.label){case 0:return[4,cn(t,e)];case 1:return n.sent(),[2]}}))}))})).finally((function(){r=!0}))]):[3,5]:[2]);case 4:f.sent(),f.label=5;case 5:f.label=6;case 6:return[2]}}))}))})),[2]}}))}))}var Ve=function(){function e(e){this.products=e.products.map((function(e){return new Fe(e)}))}return e.prototype.getShopifyAnalyticsProductsInCollection=function(){return this.products.map((function(e){return e.getShopifyAnalyticsProductInCollection()}))},e}(),Fe=function(){function e(e){this.variants=e.variants.map((function(e){return new Ge(e)})),this.vendor=e.vendor,this.id=e.id}return e.prototype.getShopifyAnalyticsProductInCollection=function(){return{id:this.id,gid:"gid://shopify/Product/".concat(this.id),vendor:this.vendor,type:"",variants:this.variants.map((function(e){return{id:e.id,price:Number(e.price),name:e.title,public_title:e.title,sku:e.sku}}))}},e}(),Ge=function(e){this.title=e.title,this.price=e.price,this.id=e.id,this.sku=e.sku},He=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},We=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},$e=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function ze(e,t,n){return void 0===n&&(n=50),He(this,void 0,void 0,(function(){var r,o,i,a,c,u=this;return We(this,(function(s){switch(s.label){case 0:return Object(v.d)("Because Widget - Boost Commerce Filter Clicked"),[4,ye()];case 1:return r=s.sent(),o=T("page",window.location.href),"collection"!==r.meta.page.pageType?[3,4]:(i=r.meta.page.resourceId,a="https://services.mybcapps.com/bc-sf-filter/filter?shop=".concat(e,"&page=").concat(o,"&limit=%0A%20").concat(n,"%20%0A&sort=manual&collection_scope=").concat(i),[4,fetch(a).then((function(e){return e.json()})).then((function(e){return new Ve(e)}))]);case 2:return c=s.sent(),Object(v.d)("Because Widget - Boost Commerce Filter Data: ",c),window.ShopifyAnalytics.meta.products=$e($e([],r.meta.products,!0),c.getShopifyAnalyticsProductsInCollection(),!0),[4,C(e).then((function(e){return He(u,void 0,void 0,(function(){return We(this,(function(n){switch(n.label){case 0:return[4,cn(t,e)];case 1:return n.sent(),[2]}}))}))}))];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}var Ke=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},Je=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function Ye(e,t,n,r){return Ke(this,void 0,void 0,(function(){var o=this;return Je(this,(function(i){return document.addEventListener("click",(function(i){return Ke(o,void 0,void 0,(function(){var o,a,c,u;return Je(this,(function(s){switch(s.label){case 0:return o=!1,a=i.target,Object(v.d)("Because Widget - Clicked Element",a),"true"===a.getAttribute("because-data-event-listener")?(Object(v.d)("Because Widget - Event Listener already added"),[2]):(c=a.closest("form"))&&(u=c.getAttribute("action"))&&u.includes("/cart")||"INPUT"===a.tagName&&a.parentElement.querySelector('label[for="'.concat(a.id,'"]'))?[2]:o?[3,2]:[4,Xe(a,e,t,n,r).then((function(){o=!0}))];case 1:s.sent(),s.label=2;case 2:return[2]}}))}))})),[2]}))}))}function Xe(e,t,n,r,o){return Ke(this,void 0,void 0,(function(){var i,a,c,u,s=this;return Je(this,(function(l){switch(l.label){case 0:return i=null,a=["BUTTON","SVG","INPUT","A","FORM","LABEL"],c=["BUTTON","A"],"/account/login"===window.location.pathname?(Object(v.d)("Because Widget - On login page - Not updating cart"),[2]):a.includes(e.tagName)||c.includes(e.parentElement.tagName)?(Object(v.d)("Because Widget - Clicked Element in Trackable Elements",a.includes(e.tagName)),Object(v.d)("Because Widget - Clicked Element",e.tagName),Object(v.d)("Because Widget - Clicked Element in Trackable Parent Elements",c.includes(e.parentElement.tagName)),Object(v.d)("Because Widget - Clicked Element Parent",e.parentElement.tagName),u=e.classList.value.split(" "),u.some((function(e){return e.includes("boost-pfs-filter")||e.includes("bc-sf-filter-load-more-button")}))?[4,ze(t,n,"fright-rags.myshopify.com"===t?15:50)]:[3,2]):[3,4];case 1:return l.sent(),[2];case 2:i&&clearTimeout(i),i=setTimeout((function(){return Ke(s,void 0,void 0,(function(){var e=this;return Je(this,(function(r){switch(r.label){case 0:return[4,C(t).then((function(t){return Ke(e,void 0,void 0,(function(){return Je(this,(function(e){switch(e.label){case 0:return[4,cn(n,t)];case 1:return e.sent(),[2]}}))}))}))];case 1:return r.sent(),[2]}}))}))}),500),l.label=3;case 3:return[3,5];case 4:Object(v.d)("Because Widget - Clicked Element Tag not Trackable",e.tagName),i&&clearTimeout(i),i=setTimeout((function(){return Ke(s,void 0,void 0,(function(){var e,i=this;return Je(this,(function(a){switch(a.label){case 0:return e=window.location.href,[4,C(t).then((function(t){return Ke(i,void 0,void 0,(function(){return Je(this,(function(i){switch(i.label){case 0:return r.itemCount===t.itemCount&&o===e?[3,2]:(r.itemCount=t.itemCount,o=e,[4,cn(n,t).then((function(){}))]);case 1:i.sent(),i.label=2;case 2:return[2]}}))}))}))];case 1:return a.sent(),[2]}}))}))}),500),l.label=5;case 5:return[2]}}))}))}function Ze(e,t,n){"true"!==e.getAttribute("because-data-event-listener")?(e.addEventListener(t,n),e.setAttribute("because-data-event-listener","true")):Object(v.d)("Because Widget - Event Listener already added")}var et=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},tt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function nt(e,t,n,r){return et(this,void 0,void 0,(function(){var o,i=this;return tt(this,(function(a){return o=null,document.querySelectorAll("a[href*='/cart/change']").forEach((function(a){Ze(a,"click",(function(c){return et(i,void 0,void 0,(function(){var i,u=this;return tt(this,(function(s){switch(s.label){case 0:return i=c.target,Object(v.d)("Because Widget - ANCHOR Element Clicked"),[4,Xe(i,e,t,n,r)];case 1:return s.sent(),a.removeEventListener("click",(function(){})),o&&clearTimeout(o),o=setTimeout((function(){return et(u,void 0,void 0,(function(){return tt(this,(function(o){switch(o.label){case 0:return[4,nt(e,t,n,r)];case 1:return o.sent(),[2]}}))}))}),1e3),[2]}}))}))}))})),[2]}))}))}var rt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},ot=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function it(e,t,n,r){return rt(this,void 0,void 0,(function(){var o,i=this;return ot(this,(function(a){return o=null,document.querySelectorAll("form[action*='/cart']").forEach((function(a){Ze(a,"click",(function(c){return rt(i,void 0,void 0,(function(){var i,u=this;return ot(this,(function(s){switch(s.label){case 0:return i=c.target,Object(v.d)("Because Widget - FORM Submit Clicked"),[4,Xe(i,e,t,n,r)];case 1:return s.sent(),a.removeEventListener("click",(function(){})),o&&clearTimeout(o),o=setTimeout((function(){return rt(u,void 0,void 0,(function(){return ot(this,(function(o){switch(o.label){case 0:return[4,it(e,t,n,r)];case 1:return o.sent(),[2]}}))}))}),1e3),[2]}}))}))}))})),[2]}))}))}let at,ct,ut;function st(e,t){if(ut=new Date,e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";const n={root:document.body,idName:e=>!0,className:e=>!0,tagName:e=>!0,attr:(e,t)=>!1,seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4,timeoutMs:void 0};at={...n,...t},ct=function(e,t){if(e.nodeType===Node.DOCUMENT_NODE)return e;if(e===t.root)return e.ownerDocument;return e}(at.root,n);let r=lt(e,"all",()=>lt(e,"two",()=>lt(e,"one",()=>lt(e,"none"))));if(r){const t=xt(function*e(t,n,r={counter:0,visited:new Map}){if(t.length>2&&t.length>at.optimizedMinLength)for(let o=1;o<t.length-1;o++){if(r.counter>at.maxNumberOfTries)return;r.counter+=1;const i=[...t];i.splice(o,1);const a=ft(i);if(r.visited.has(a))return;ht(i)&&kt(i,n)&&(yield i,r.visited.set(a,!0),yield*e(i,n,r))}}(r,e));return t.length>0&&(r=t[0]),ft(r)}throw new Error("Selector was not found.")}function lt(e,t,n){let r=null,o=[],i=e,a=0;for(;i;){const e=(new Date).getTime()-ut.getTime();if(void 0!==at.timeoutMs&&e>at.timeoutMs)throw new Error(`Timeout: Can't find a unique selector after ${e}ms`);let c=Et(mt(i))||Et(...vt(i))||Et(...yt(i))||Et(bt(i))||[{name:"*",penalty:3}];const u=gt(i);if("all"==t)u&&(c=c.concat(c.filter(_t).map(e=>wt(e,u))));else if("two"==t)c=c.slice(0,1),u&&(c=c.concat(c.filter(_t).map(e=>wt(e,u))));else if("one"==t){const[e]=c=c.slice(0,1);u&&_t(e)&&(c=[wt(e,u)])}else"none"==t&&(c=[{name:"*",penalty:3}],u&&(c=[wt(c[0],u)]));for(let e of c)e.level=a;if(o.push(c),o.length>=at.seedMinLength&&(r=dt(o,n),r))break;i=i.parentElement,a++}return r||(r=dt(o,n)),!r&&n?n():r}function dt(e,t){const n=xt(function*e(t,n=[]){if(t.length>0)for(let r of t[0])yield*e(t.slice(1,t.length),n.concat(r));else yield n}(e));if(n.length>at.threshold)return t?t():null;for(let e of n)if(ht(e))return e;return null}function ft(e){let t=e[0],n=t.name;for(let r=1;r<e.length;r++){const o=e[r].level||0;n=t.level===o-1?`${e[r].name} > ${n}`:`${e[r].name} ${n}`,t=e[r]}return n}function pt(e){return e.map(e=>e.penalty).reduce((e,t)=>e+t,0)}function ht(e){const t=ft(e);switch(ct.querySelectorAll(t).length){case 0:throw new Error("Can't select any node with this selector: "+t);case 1:return!0;default:return!1}}function mt(e){const t=e.getAttribute("id");return t&&at.idName(t)?{name:"#"+CSS.escape(t),penalty:0}:null}function vt(e){return Array.from(e.attributes).filter(e=>at.attr(e.name,e.value)).map(e=>({name:`[${CSS.escape(e.name)}="${CSS.escape(e.value)}"]`,penalty:.5}))}function yt(e){return Array.from(e.classList).filter(at.className).map(e=>({name:"."+CSS.escape(e),penalty:1}))}function bt(e){const t=e.tagName.toLowerCase();return at.tagName(t)?{name:t,penalty:2}:null}function gt(e){const t=e.parentNode;if(!t)return null;let n=t.firstChild;if(!n)return null;let r=0;for(;n&&(n.nodeType===Node.ELEMENT_NODE&&r++,n!==e);)n=n.nextSibling;return r}function wt(e,t){return{name:e.name+`:nth-child(${t})`,penalty:e.penalty+1}}function _t(e){return"html"!==e.name&&!e.name.startsWith("#")}function Et(...e){const t=e.filter(Tt);return t.length>0?t:null}function Tt(e){return null!=e}function xt(e){return[...e].sort((e,t)=>pt(e)-pt(t))}function kt(e,t){return ct.querySelector(ft(e))===t}var jt;!function(e){e.SelectedSelector="because-find_selector",e.PopoverWithSelector="because-find_selector-pop-up",e.PopoverContent="because-find_selector-pop-up-content",e.PopoverFooter="because-find_selector-footer",e.InitialModal="because-find_selector-modal",e.StyleTag="because-find_selector-style",e.SelectorBlueLabel="because-selector-label",e.SaveButton="because-save_selector",e.CloseButton="because-close_selector",e.GoBackToAppButton="because-go_back_to_app"}(jt||(jt={}));var At=function(){return(At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ct=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},Ot=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},St={"Content-Type":"application/json"},It=Object(v.j)(m.e.SelectorId),Pt=function(e){return Ct(void 0,void 0,void 0,(function(){return Ot(this,(function(t){switch(t.label){case 0:return"NEW"!==It?[3,2]:[4,Nt(e)];case 1:return[2,t.sent()];case 2:return[4,Bt(e)];case 3:return[2,t.sent()];case 4:return[2]}}))}))},Nt=function(e){return Ct(void 0,void 0,void 0,(function(){var t;return Ot(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,a.a.post("".concat(m.a,"/selector/create"),{name:"New Position",value:e,is_default:!1,page_type:null,content_type:null,shop_name:window.Shopify.shop},{headers:St})];case 1:return[2,n.sent().data];case 2:return t=n.sent(),Object(v.d)(t),[2,null];case 3:return[2]}}))}))},Bt=function(e){return Ct(void 0,void 0,void 0,(function(){var t,n;return Ot(this,(function(r){switch(r.label){case 0:return[4,a.a.get("".concat(m.a,"/selector/").concat(It),{headers:St,params:{shop_name:window.Shopify.shop}})];case 1:if(!(t=r.sent()).data)return[3,5];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,a.a.patch("".concat(m.a,"/selector/").concat(It),At(At({},t.data),{value:e,shop_name:window.Shopify.shop}),{headers:St})];case 3:return[2,r.sent().data];case 4:return n=r.sent(),Object(v.d)(n),[2,null];case 5:return[2,null]}}))}))},Rt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},Lt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Dt=function(){var e,t;Object(v.j)(m.e.SelectorId)&&(e="\n  .".concat(jt.SelectedSelector," {\n    outline: 2px solid #3256d6;\n    outline-offset: 2px;\n    border-radius: 2px;\n    transition: outline 0.1s ease-in-out;\n    cursor: pointer;\n    position: relative;\n  }\n\n  #").concat(jt.SelectorBlueLabel,' {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: fit-content;\n    background-color: #3256d6;\n    color: #fff;\n    padding: 4px 8px;\n    border-radius: 0;\n    font-size: 12px;\n    font-weight: 500;\n    font-family: "Inter", Roboto, "Helvetica Neue", Arial, sans-serif;\n    z-index: 99999;\n    text-align: right;\n  }\n\n  #').concat(jt.PopoverWithSelector," {\n    position: fixed;\n    min-width: 350px;\n    max-width: 500px;\n    z-index: 99999;\n    animation: popup 0.2s ease-in-out;\n    cursor: default;\n  }\n  \n  #").concat(jt.PopoverContent," {\n    background-color: #fff;\n    border: 1px solid #e5e7eb;\n    border-radius: 8px;\n    box-shadow: 0px 10px 15px 10px rgba(0,0,0,0.1);\n    padding: 16px;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    font-family: sans-serif;\n  }\n  \n  #").concat(jt.PopoverContent,' > label {\n    font-size: 1em;\n    font-weight: 600;\n    font-family: "Inter", Roboto, "Helvetica Neue", Arial, sans-serif;\n    color: #000;\n    margin: 0;\n    letter-spacing: normal;\n    text-transform: capitalize;\n  }\n  \n  #').concat(jt.PopoverContent," > code {\n    font-size: 0.75em;\n    margin: 0;\n    word-break: break-all;\n    font-family: monospace;\n    color: #4b5563;\n    background-color: #f3f3f3;\n    padding: 2px 4px;\n    border-radius: 4px;\n  }\n\n  #").concat(jt.PopoverFooter," {\n    width: 100%;\n    display: flex;\n    gap: 16px;\n    justify-content: space-between;\n    align-items: center;\n    border-top: 1px solid #e5e7eb;\n    padding-top: 16px;\n    margin-top: 8px;\n  }\n  \n  #").concat(jt.SaveButton,", #").concat(jt.InitialModal," > div > button, #").concat(jt.CloseButton,", #").concat(jt.GoBackToAppButton,' {\n    background-color: #3256d6;\n    border: none;\n    border-radius: 4px;\n    color: #fff;\n    cursor: pointer;\n    font-size: 0.875em;\n    font-weight: 600;\n    font-family: "Inter", Roboto, "Helvetica Neue", Arial, sans-serif;\n    padding: 8px 16px;\n    text-align: center;\n    border-radius: 8px;\n    cursor: pointer;\n  }\n\n  #').concat(jt.InitialModal," > div > button {\n    font-size: 1em;\n  }\n\n  #").concat(jt.CloseButton," {\n    background-color: #fff;\n    color: #000;\n    border: 1px solid #e5e7eb;\n  }\n  \n  #").concat(jt.SaveButton,":hover, #").concat(jt.InitialModal," > div > button:hover, #").concat(jt.GoBackToAppButton,":hover {\n    background-color: #2b4dcb;\n  }\n\n  #").concat(jt.CloseButton,":hover {\n    background-color: #f3f3f3;\n  }\n  \n  #").concat(jt.SaveButton," > div {\n    width: 20px;\n    height: 20px;\n    border: 3px solid #fff;\n    border-radius: 50%;\n    border-top-color: transparent;\n    animation: spin 1s ease-in-out infinite;\n    display: none;\n    margin: 0 auto;\n  }\n  \n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n\n  @keyframes popup {\n    0%{\n      opacity: 0;\n    }\n    50%{\n      opacity: 0.5;\n    }\n    100%{\n      opacity: 1;\n    }\n  }\n\n  #").concat(jt.InitialModal," {\n    display: block;\n    width: 100vw;\n    height: 100vh;\n    z-index: 10;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background-color: rgba(0,0,0,0.5);\n  }\n\n  #").concat(jt.InitialModal," > div {\n    background-color: #fff;\n    border: 1px solid #e5e7eb;\n    border-radius: 8px;\n    box-shadow: 0px 20px 85px -3px rgba(0,0,0,0.5);\n    padding: 32px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: start;\n    min-width: 600px;\n    min-height: 300px;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    gap: 24px;\n  }\n\n  #").concat(jt.InitialModal,' > div > h2 {\n    font-size: 1.5em;\n    font-weight: 600;\n    font-family: "Inter", Roboto, "Helvetica Neue", Arial, sans-serif;\n    margin: 0;\n    letter-spacing: normal;\n    line-height: 1.5;\n    color: #000;\n  }\n\n  #').concat(jt.InitialModal,' > div > p {\n    font-size: 1em;\n    font-weight: 400;\n    font-family: "Inter", Roboto, "Helvetica Neue", Arial, sans-serif;\n    margin: 0;\n    letter-spacing: normal;\n    line-height: 1.5;\n    color: #000;\n  }\n  '),(t=document.createElement("style")).setAttribute("id",jt.StyleTag),t.innerText=e,document.head.appendChild(t),document.getElementById(jt.InitialModal)||function(){var e=document.createElement("div");e.setAttribute("id",jt.InitialModal);var t=document.createElement("div"),n=document.createElement("h2");n.innerText="Use This Tool to Position Your Campaign:",t.appendChild(n);var r=document.createElement("p");r.innerHTML='\n  This tool helps you choose where to place your campaign on your webpage. Here\'s how:<br>\n  1. Move your cursor over the section where you want your campaign to go — whether it\'s a button, description, or another widget.<br>\n    &emsp;a. For badges on your collection page, select the product grid container.<br>\n    &emsp;b. Note: This feature doesn\'t currently work in the slide-out cart. If you want to position something there, enter your URL for the full-screen cart.<br>\n  2. Click on the section to identify its "selector," which tells us exactly where you want your campaign.<br>\n  3. Click "Save Position" to save this selector.<br>\n  4. Return to your other tab (named Because) where you\'ll find your saved position, with options to place your campaign either "above" or "below" the selector. Badges will automatically use the container.',t.appendChild(r);var o=document.createElement("button");o.innerText="Start",t.appendChild(o),o.addEventListener("click",(function(){Ut(),e.remove()})),e.appendChild(t),document.body.appendChild(e)}())},Ut=function(){var e="";document.addEventListener("mouseover",(function(t){var n,r=t.target,o=document.getElementById(jt.PopoverWithSelector);if(r&&!o&&((e=st(r,{seedMinLength:2})).includes(jt.SelectedSelector)&&(e=st(r,{seedMinLength:1})),!(!e||e.includes(jt.PopoverWithSelector)||e.includes(jt.SaveButton)||e.includes(jt.PopoverContent)||e.includes(jt.CloseButton)))){var i=document.querySelector(".".concat(jt.SelectedSelector));return i&&(i.classList.remove(jt.SelectedSelector),null===(n=document.querySelector("#".concat(jt.SelectorBlueLabel)))||void 0===n||n.remove()),r.classList.add(jt.SelectedSelector),function(e){var t=document.createElement("div");t.setAttribute("id",jt.SelectorBlueLabel),t.innerText=e,document.body.appendChild(t)}(e),r.removeEventListener("click",(function(){})),r.addEventListener("click",(function(n){if(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),!(e.includes(jt.PopoverWithSelector)||e.includes(jt.SaveButton)||e.includes(jt.PopoverContent)||e.includes(jt.CloseButton)))return o&&o.remove(),function(e,t){var n=document.getElementById(jt.PopoverWithSelector);n&&n.remove();var r=document.querySelector(e),o=document.createElement("div");if(o.setAttribute("id",jt.PopoverWithSelector),r){var i=r.getBoundingClientRect().left,a=r.getBoundingClientRect().top;o.style.top="".concat(a,"px"),i+500>window.innerWidth?o.style.left="".concat(window.innerWidth-500,"px"):o.style.left="".concat(i,"px")}else o.style.top="".concat(t.clientY,"px"),o.style.left="".concat(t.clientX,"px");var c=document.createElement("div");c.setAttribute("id",jt.PopoverContent);var u=document.createElement("label");u.innerText="Chosen Position",c.appendChild(u);var s=document.createElement("code");s.innerText=e,c.appendChild(s);var l=document.createElement("div");l.setAttribute("id",jt.PopoverFooter);var d=document.createElement("button");d.setAttribute("id",jt.GoBackToAppButton),d.innerText="Go Back to Because",d.style.display="none",d.addEventListener("click",(function(){return window.close()})),l.appendChild(d);var f=document.createElement("button");f.setAttribute("id",jt.SaveButton),f.innerText="Save Position",f.addEventListener("click",(function(t){return Qt(t,f,e)})),l.appendChild(f);var p=document.createElement("button");p.setAttribute("id",jt.CloseButton),p.innerText="Close",p.addEventListener("click",(function(){return o.remove()})),l.appendChild(p),c.appendChild(l),o.appendChild(c),document.body.appendChild(o)}(e,t),function(){return document.removeEventListener("click",(function(){}))}})),function(){var e;document.removeEventListener("mouseover",(function(){})),null===(e=document.getElementById(jt.StyleTag))||void 0===e||e.remove()}}}))},Qt=function(e,t,n){return Rt(void 0,void 0,void 0,(function(){var r;return Lt(this,(function(o){switch(o.label){case 0:return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.innerText="",(r=document.createElement("div")).style.display="block",t.appendChild(r),navigator.clipboard.writeText(n),[4,Pt(n).then((function(e){if(e){r.style.display="none",t.removeEventListener("click",(function(){})),t.style.display="none";var n=document.getElementById(jt.GoBackToAppButton);n&&(n.style.display="block")}}))];case 1:return o.sent(),[2]}}))}))},Mt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},qt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function Vt(e,t,n,r){return Mt(this,void 0,void 0,(function(){var o;return qt(this,(function(i){return o=JSON.stringify({quantity:1,id:t}),fetch(window.location.origin+"/cart/add.js",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:o}).then((function(){Wt(e),Object(v.d)("Success -> Product added to cart"),setTimeout((function(){Ft(n,r)}),500)})).catch((function(e){Object(v.d)("Error -> Failed to add product to cart",e)})),[2]}))}))}var Ft=function(e,t){if(e)if(t)Object(v.d)("Product Recommendation -> Redirecting to custom URL"),window.open(t,"_self");else{Object(v.d)("Product Recommendation -> Redirecting to cart");var n=function(){for(var e=['a[href="/cart"]','button[href="/cart"]','button[aria-label="Cart"]','button[aria-label="Open Side Cart"]',"button[data-cart-trigger]",'[data-toggle="cart"]','[data-action="open-cart"]','[data-action="toggle-cart"]',".cart_icon",".cart-icon",".cart"],t=0;t<e.length;t++){var n=e[t],r=document.querySelector(n);if(r)return r}return null}();n?n.click():window.open(location.origin+"/cart","_self")}else Object(v.d)("Product Recommendation -> Not redirecting")};function Gt(e,t,n,r,o,i,c){return Mt(this,void 0,void 0,(function(){var u,s;return qt(this,(function(l){switch(l.label){case 0:u={shop_name:e,campaign_design_id:t,playbook_id:n,url:window.location.href,product_id_added:r,variant_id_added:o,cart_token:i,site_visitor_id:c},l.label=1;case 1:return l.trys.push([1,3,,4]),[4,a.a.post(m.b+"/track/product_recommendation",u,{headers:new Headers({"Content-Type":"application/json"})})];case 2:return l.sent(),[3,4];case 3:return s=l.sent(),Object(v.d)(s),[3,4];case 4:return[2]}}))}))}function Ht(e,t,n,r){var o=this;e.filter((function(e){return Object(v.k)(e)})).forEach((function(e){var i=Xt(e.campaignId),a=document.querySelector(i);a&&(!function(e){var t=Zt(e),n=document.querySelector(t);if(!n)return;n.remove()}(e.campaignId),a.addEventListener("click",(function(i){return Mt(o,void 0,void 0,(function(){var o,c,u,s,l;return qt(this,(function(d){switch(d.label){case 0:return i.preventDefault(),i.stopImmediatePropagation(),i.stopPropagation(),o=Number(e.param_map.product_id),c=Number(e.param_map.product_variant_id),u=Boolean(e.param_map.product_recommendation_should_redirect),s=Boolean(e.param_map.product_recommendation_should_add_to_cart),l=e.param_map.product_recommendation_redirect_url,s?[4,Vt(a,c,u,l)]:[3,3];case 1:return d.sent(),[4,Gt(t,e.campaignId,e.playbookId,o,c,n,r)];case 2:return d.sent(),[3,4];case 3:Ft(u,l),d.label=4;case 4:return[2]}}))}))})))}))}var Wt=function(e){var t=document.createElement("span");t.innerText="✔ Added to Cart!",t.style.color="inherit",t.style.fontSize="inherit",t.style.fontWeight="bold",t.style.margin="auto",e.parentElement.appendChild(t),setTimeout((function(){t.remove()}),3e3)},$t=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},zt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};var Kt=function(e,t,n){var r=en(e);if(r){var o=document.querySelector(r);o&&(o.innerText=o.innerText.replace(t,n))}},Jt=function(e,t,n){var r=document.querySelector(nn(e)),o=document.querySelector(tn(e));fetch("".concat(m.a,"/fetch_product_variant?variant_id=").concat(t,"&shop_name=").concat(n),{method:"GET",headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return $t(void 0,void 0,void 0,(function(){var t,n,i,a,c,u,s,l;return zt(this,(function(d){switch(d.label){case 0:return[4,e.json()];case 1:return t=d.sent(),r&&(r.src=null!==(l=null!==(i=null===(n=t.image)||void 0===n?void 0:n.url)&&void 0!==i?i:null===(s=null===(u=null===(c=null===(a=t.product)||void 0===a?void 0:a.images)||void 0===c?void 0:c.edges[0])||void 0===u?void 0:u.node)||void 0===s?void 0:s.originalSrc)&&void 0!==l?l:r.src),o&&(t.price?o.innerText=t.price.includes("$")?t.price:"$"+t.price:o.innerText=o.innerText),[2]}}))}))})).catch((function(e){console.error(e)}))},Yt=function(e){return e?"#because_intelligence-product_recommendation-variant_selector_afe".concat(e,"ffa > select"):null},Xt=function(e){return e?"#because_intelligence-product_recommendation-button_afe".concat(e,"ffa"):null},Zt=function(e){return e?"#because-product_rec-script-afe".concat(e,"ffa"):null},en=function(e){return e?"#because_intelligence-product_recommendation-product_specs_afe".concat(e,"ffa > p:nth-child(1)"):null},tn=function(e){return e?"#because_intelligence-product_recommendation-product_specs_afe".concat(e,"ffa > p:nth-child(2)"):null},nn=function(e){return e?"#because_intelligence-product_recommendation-image_afe".concat(e,"ffa"):null},rn=function(e,t,n,r){Ht(e,t,n,r),function(e,t,n,r){e.filter((function(e){return Object(v.k)(e)})).forEach((function(e){if(e){var o=Yt(e.campaignId),i=document.querySelector(o);i&&i.addEventListener("change",(function(){var o=i.value;i.setAttribute("value",o),e.param_map.product_variant_id=o;var a=e.param_map.product_variant_option,c=i.options[i.selectedIndex].text;e.param_map.product_variant_option=c,Kt(e.campaignId,a,c),Jt(e.campaignId,o,t);var u=document.querySelector(Xt(e.campaignId));u&&(u.removeEventListener("click",(function(){})),Ht([e],t,n,r))}))}}))}(e,t,n,r)},on=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},an=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function cn(e,t){return on(this,void 0,void 0,(function(){var e,n,r,o,i;return an(this,(function(c){switch(c.label){case 0:return[4,pe()];case 1:return void 0===(e=c.sent()).shop&&(n=T("shop",jQuery("#because_intelligence").attr("src")),e={shop:n}),[4,ye()];case 2:return r=c.sent(),[4,Oe(e)];case 3:return o=c.sent(),[4,Be()];case 4:return i=c.sent(),g("becauseCookie"),[4,R(e,r,0,o,i,t).then((function(n){var i=n.campaigns,c=n.ab_testing;c.forEach((function(e){e.updateNullCampaignContentId()}));var u=n.pop_ups,s=n.collection_campaigns;jQuery("[class^=because-campaign]").remove(),jQuery("[id^=because_intelligence-banner_]").remove(),jQuery("[id^=because_intelligence-top_bar_]").remove(),jQuery("[id^=because_intelligence-text_element_]").remove(),jQuery("[id^=because_intelligence-product_recommendation_]").remove(),jQuery("[class^=because_intelligence-banner]").remove(),window.Because_Intelligence_Campaigns=i,window.Because_Intelligence_Popups=u,window.Because_Intelligence_Collection_Tile_Items=s,window.Because_Intelligence_Ab_Tests=c,new ue(e,r,t,o).handlePageForCampaigns(i),new se(e,r,t,o).handlePageForCollections(s),new ce(e,r,t,o).handlePageForPopups(u),new le(e,r,t,o).handlePageForAbTests(c),window.Because_Intelligence_Campaigns&&(window.Because_Intelligence_Campaigns.forEach((function(n){if(!dn(n))var i=setInterval((function(){dn(n)||function(e,t,n,r,o){new ue(n,r,t,o).handlePageForCampaigns([e])}(n,t,e,r,o)}),1e3),a=setInterval((function(){dn(n)&&(clearInterval(i),clearInterval(a))}),1e3)})),rn(window.Because_Intelligence_Campaigns,e.shop,t.token,o.id)),window.Because_Intelligence_Ab_Tests&&(window.Because_Intelligence_Ab_Tests.forEach((function(n){if(!(re(n.campaigns[0])||re(n.campaigns[1])||dn(n.campaigns[0])||dn(n.campaigns[1])))var i=setInterval((function(){dn(n.campaigns[0])||dn(n.campaigns[1])||new le(e,r,t,o).handlePageForAbTests([n])}),1e3),a=setInterval((function(){(dn(n.campaigns[0])||dn(n.campaigns[1]))&&(clearInterval(i),clearInterval(a))}),1e3)})),rn(window.Because_Intelligence_Ab_Tests.map((function(e){return e.campaigns})).flat(),e.shop,t.token,o.id));var l=Object(v.j)(m.e.RuleChecker),d=Object(v.j)(m.e.PlaybookId);if(l&&d){var f=function(e){var t,n=void 0;if(n=window.Because_Intelligence_Campaigns.find((function(t){return t.playbookId===e})))return n;if(n=null===(t=window.Because_Intelligence_Collection_Tile_Items.find((function(t){return t.campaign.playbookId===e})))||void 0===t?void 0:t.campaign)return n;for(var r=0;r<window.Because_Intelligence_Ab_Tests.length;r++){var o=window.Because_Intelligence_Ab_Tests[r];if(n=o.campaigns.find((function(t){return t.playbookId===e})))return n;var i=o.collection_tile_campaigns.find((function(t){return t.campaign.playbookId===e}));if(i)return i.campaign}return n}(Number(d));f&&function(e,t){var n=!1;if(e){var r=dn(e);r&&(r.style.outline="3px solid #3256d6",r.style.outlineOffset="6px",r.style.borderRadius="2px",r.scrollIntoView({behavior:"smooth",block:"center"}),n=!0)}a.a.patch("".concat(m.b,"/campaigns/viewing_user/").concat(t),{is_selector_visible:n},{headers:{"Content-Type":"application/json"}})}(f,l)}}))];case 5:return c.sent(),[2]}}))}))}function un(e){return on(this,void 0,void 0,(function(){var t=this;return an(this,(function(n){switch(n.label){case 0:return[4,C(e).then((function(e){return on(t,void 0,void 0,(function(){return an(this,(function(t){return[2,e]}))}))})).catch((function(e){return on(t,void 0,void 0,(function(){return an(this,(function(t){return Object(v.d)("rejected : error whilst trying to retrieve Cart from Shopify - ",e),[2,new h({currency:"",itemCount:0,items:[],itemsSubtotalPrice:0,token:""})]}))}))}))];case 1:return[2,n.sent()]}}))}))}function sn(){return on(this,void 0,void 0,(function(){var e,t,n;return an(this,(function(r){switch(r.label){case 0:return[4,pe()];case 1:return e=r.sent(),[4,ye()];case 2:return t=r.sent(),"product"==t.meta.page.pageType&&void 0!==(n=t.meta.product)&&function(e,t){Re(this,void 0,void 0,(function(){var n,r;return Le(this,(function(o){switch(o.label){case 0:n=new Ue(t),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,a.a.post(m.b+"/products/update_from_page",{params:{shop:e,product_info:n}})];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),Object(v.d)(r),[3,4];case 4:return[2]}}))}))}(e.shop,n),[2]}}))}))}function ln(){return on(this,void 0,void 0,(function(){var e;return an(this,(function(t){switch(t.label){case 0:return[4,un(T("shop",jQuery("#because_intelligence").attr("src")))];case 1:return(e=t.sent())?[4,cn(0,e)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))}function dn(e){var t=jQuery(e.content).attr("id");return document.getElementById(t)}function fn(){return on(this,void 0,void 0,(function(){var e,t,n,r,o;return an(this,(function(i){switch(i.label){case 0:return e=T("campaign_id",jQuery("#because_intelligence").attr("src")),[4,un(t=T("shop",jQuery("#because_intelligence").attr("src")))];case 1:return n=i.sent(),r=window.location.href,t||(t=window.Shopify.shop),[4,nt(t,e,n,r)];case 2:return i.sent(),[4,it(t,e,n,r)];case 3:return i.sent(),[4,Ye(t,e,n,r)];case 4:return i.sent(),m.g.includes(t)?[4,qe(t,e)]:[3,6];case 5:i.sent(),i.label=6;case 6:return[4,pe()];case 7:return void 0===i.sent().shop&&(o=T("shop",jQuery("#because_intelligence").attr("src")),{shop:o}),window.addEventListener("pagehide",(function(){localStorage.removeItem(m.d.CampaignIds)})),[2]}}))}))}window.Because_Intelligence_RequeryCmd=fn,function(){var e=this;Object(v.a)()?Dt():(console.log("Because Widget Initializing 8.1 - Adjusted click events"),void 0===window.because_already_loaded?(window.because_already_loaded=!0,window.jQuery&&window.jQuery.ajax?(Object(v.d)("jQuery installed (min 2.1.4 required) : "+window.jQuery.fn.jquery),ln(),sn(),fn()):(Object(v.d)("jQuery not installed, installing jQuery"),a.a.get("//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js").then((function(t){eval.apply(e,[t.data]),Object(v.d)("jQuery now installed (min 2.1.4 required) : "+window.jQuery.fn.jquery),ln(),sn(),fn()})))):(Object(v.d)("Because Widget - Attempt to reload Script after initial load"),ln(),fn()))}()}]);